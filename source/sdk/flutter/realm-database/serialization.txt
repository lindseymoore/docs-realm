.. _flutter-serialization:

===========================
Serialization - Flutter SDK
===========================

.. facet::
  :name: genre
  :values: reference

.. meta::
  :description: Serialize objects to and from EJSON with a built-in feature for Atlas Device SDK for Flutter.

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

The Atlas Device SDK for Flutter supports serialization and deserialization of
:manual:`EJSON </reference/mongodb-extended-json>` to and from static Realm objects.
Serialization allows for easier integration with MongoDB APIs.

Supported Data Types for Serialization
--------------------------------------

The following :flutter-sdk:`defined enum values <realm/EJsonType.html>` 
can be serialized and deserialized:

- Array
- Binary
- Boolean
- Date
- Decimal128
- Double
- Int32
- Int64
- MaxKey
- MinKey
- ObjectID
- String
- Symbol
- Null
- Undefined

The SDK does not currently support the following types: Code, CodeWScope, DBPointer,
DBRef, Regular Expression, and Timestamp. 

For more information and examples on the serialization for each of these types,
see :manual:`BSON Data Types and Associated Representations </reference/mongodb-extended-json/#bson-data-types-and-associated-representations>`.

Object Model for Serialization
------------------------------

Full-document encoding enables you to serialize and deserialize user-defined 
classes. You can create your object model as you normally would. The RealmObject class
model created by your ``part`` declaration will provide the neccessary encoder 
and decoder methods for serialization and deserialization. The following ``Pet``
object model will be used in the following examples:

.. literalinclude:: /examples/generated/flutter/pet.snippet.serialize-object-model.dart
    :language: dart

Serialization
-------------

For objects in a Realm, you can serialize to EJSON using the 
:flutter-sdk:`toEjson() <realm/toEJson.html>` method in the following two ways: 

.. io-code-block::
    :copyable: true
    
    .. input:: /examples/generated/flutter/serialization_test.snippet.serialize.dart
        :language: dart

    .. output:: /examples/generated/flutter/serialization_results.snippet.serialization-results.dart
        :language: json
        :visible: true

Deserialization
---------------

Deserialize from EJSON using the :flutter-sdk:`fromEjson() <realm/fromEJson.html>`
method. The method takes EJSON for a specified object type as input and outputs 
a deserialized instance of the specified object type. 

.. literalinclude:: /examples/generated/flutter/serialization_test.snippet.deserialize.dart
    :language: dart
